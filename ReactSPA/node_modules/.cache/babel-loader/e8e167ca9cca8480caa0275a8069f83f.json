{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ketis\\\\Documents\\\\estenligne\\\\ReactSPA\\\\src\\\\components\\\\shared\\\\renderfile\\\\RenderFileZone.tsx\";\nimport { Component } from 'react';\nimport close from \"./../../../wwwroot/images/times_dark.png\";\nimport camera from \"./../../../wwwroot/images/camera_p.png\";\nimport pauseCircular from \"./../../../wwwroot/images/pause_circular.png\";\nimport play from \"./../../../wwwroot/images/play.png\";\nimport stopCircular from \"./../../../wwwroot/images/stop_circular.png\";\nimport record from \"./../../../wwwroot/images/record_circular.png\";\nimport microphone from \"./../../../wwwroot/images/microphone.png\";\nimport mutedMicrophone from \"./../../../wwwroot/images/muted_microphone.png\";\nimport { seconds2Time } from '../utils/functions';\nimport \"./RenderFileZone.css\";\nimport CapturedItem from '../captureditem/CapturedItem';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass RenderFileZone extends Component {\n  constructor(...args) {\n    super(...args);\n    this.props = this.props;\n    this._intervalId = -1;\n    this._recordedItem = [];\n    this.width = 0;\n    this.height = 0;\n    this.state = {\n      isRecording: false,\n      recordIsStopped: true,\n      microphoneIsMuted: false,\n      recordPageIsDisplayed: true,\n      timeCounter: 0,\n      imageIsDisplayed: false,\n      title: \"File displayer\",\n      recordedItems: this._recordedItem,\n      currentItemId: \"\"\n    };\n\n    this.closeRenderZone = event => {\n      var renderZone = document.getElementById(\"display-media-box\");\n      renderZone === null || renderZone === void 0 ? void 0 : renderZone.style.setProperty(\"display\", \"none\");\n    };\n\n    this.recordPauseVideo = event => {\n      var isRecording = !this.state.isRecording;\n\n      if (isRecording && this._intervalId === -1) {\n        this.setState({\n          recordIsStopped: false\n        });\n        this._intervalId = setInterval(() => this.countTime(), 1000);\n        this.setState({\n          title: \"Recording...\"\n        });\n      } else if (isRecording === false) {\n        var div = document.getElementById(\"record-icon\");\n        div === null || div === void 0 ? void 0 : div.style.setProperty(\"opacity\", \"1\");\n        this.setState({\n          title: \"Record is in pause\"\n        });\n      } else this.setState({\n        title: \"Recording...\"\n      });\n\n      this.setState({\n        isRecording\n      });\n    };\n\n    this.stopRecordVideo = (event, save = true) => {\n      //Stop counter\n      clearInterval(this._intervalId);\n      this._intervalId = -1; //Set opacity of record icon to 1 because it can be 0\n\n      var div = document.getElementById(\"record-icon\");\n      div === null || div === void 0 ? void 0 : div.style.setProperty(\"opacity\", \"1\");\n      if (this.state.recordIsStopped === false && save) this.addItemToRecordedList(\"aaa.mp4\", \"video\", 100000);\n      this.setState({\n        isRecording: false,\n        timeCounter: 0,\n        recordIsStopped: true,\n        title: \"File displayer\"\n      });\n    };\n\n    this.mutedDemuteMicrophone = event => {\n      var microphoneIsMuted = !this.state.microphoneIsMuted;\n      this.setState({\n        microphoneIsMuted\n      });\n    };\n\n    this.takePhoto = event => {\n      this.addItemToRecordedList(\"aaa.jpg\", \"audio\", 100000);\n    };\n\n    this.countTime = () => {\n      if (this.state.isRecording) {\n        var timeCounter = this.state.timeCounter + 1;\n        this.setState({\n          timeCounter\n        });\n        var div = document.getElementById(\"record-icon\");\n\n        if ((div === null || div === void 0 ? void 0 : div.style.opacity) === \"1\") {\n          div === null || div === void 0 ? void 0 : div.style.setProperty(\"transition\", \"opacity ease-out .5s\");\n          div === null || div === void 0 ? void 0 : div.style.setProperty(\"opacity\", \"0\");\n        } else {\n          div === null || div === void 0 ? void 0 : div.style.setProperty(\"transition\", \"opacity ease-in .5s\");\n          div === null || div === void 0 ? void 0 : div.style.setProperty(\"opacity\", \"1\");\n        }\n      }\n    };\n\n    this.onMouseEnter = () => {// var div = document.getElementById(\"render-zone-menu\")\n      // div?.style.setProperty(\"visibility\", \"visible\")\n      // div?.style.setProperty(\"width\", \"30%\")\n      // div?.style.setProperty(\"height\", \"70px\")\n    };\n\n    this.onMouseLeave = () => {// var div = document.getElementById(\"render-zone-menu\")\n      // div?.style.setProperty(\"visibility\", \"hidden\")\n      // div?.style.setProperty(\"width\", `${this.width}`)\n      // div?.style.setProperty(\"height\", `${this.height}`)\n    };\n\n    this.removeItemToRecordedList = fileId => {\n      var item = this.state.recordedItems.find(item => item.fileId === fileId);\n      var recordedItems = [...this.state.recordedItems.filter(item => item.fileId !== fileId)];\n      if ((item === null || item === void 0 ? void 0 : item.fileId) === this.state.currentItemId) this.setState({\n        recordedItems,\n        recordPageIsDisplayed: true\n      });else this.setState({\n        recordedItems\n      });\n    };\n\n    this.displaySelectedItem = fileId => {\n      var item = this.state.recordedItems.find(item => item.fileId === fileId);\n      var namePart = item === null || item === void 0 ? void 0 : item.fileName.split('/');\n      var title = namePart[(namePart === null || namePart === void 0 ? void 0 : namePart.length) - 1];\n      this.setState({\n        recordPageIsDisplayed: false,\n        title: title === undefined ? \"File displayer\" : title\n      });\n    };\n\n    this.addItemToRecordedList = (fileName, fileType, fileSize) => {\n      var recordedItems = [];\n      var item = {\n        fileId: \"\" + Math.random() + fileName,\n        fileName: fileName,\n        fileType: fileType,\n        fileSize: fileSize\n      };\n      recordedItems.push(item);\n      recordedItems.push(...this.state.recordedItems);\n      this.setState({\n        recordedItems\n      });\n    };\n\n    this.onPressDisplayMenuButton = event => {\n      // var item = this.state.recordedItems.find((item)=>item.fileId === fileId)\n      this.setState({\n        recordPageIsDisplayed: true,\n        title: \"File displayer\"\n      });\n    };\n\n    this.componentDidMount = () => {\n      var _div$clientWidth, _div$clientHeight;\n\n      var div = document.getElementById(\"render-zone-menu\");\n      this.width = (_div$clientWidth = div === null || div === void 0 ? void 0 : div.clientWidth) !== null && _div$clientWidth !== void 0 ? _div$clientWidth : this.width;\n      this.height = (_div$clientHeight = div === null || div === void 0 ? void 0 : div.clientHeight) !== null && _div$clientHeight !== void 0 ? _div$clientHeight : this.height;\n      this.addItemToRecordedList(\"ovi&mbouendeu.mp4\", \"video\", 1024 * 1024 + 27364);\n    };\n  }\n\n  render() {\n    var _require, _require2;\n\n    var capturedItems = this.state.recordedItems.map(item => /*#__PURE__*/_jsxDEV(CapturedItem, {\n      fileName: item.fileName,\n      fileType: item.fileType,\n      fileSize: item.fileSize,\n      removeItem: () => {\n        var _item$fileId;\n\n        return this.removeItemToRecordedList((_item$fileId = item.fileId) !== null && _item$fileId !== void 0 ? _item$fileId : \"\");\n      },\n      displayMedia: () => {\n        var _item$fileId2;\n\n        return this.displaySelectedItem((_item$fileId2 = item.fileId) !== null && _item$fileId2 !== void 0 ? _item$fileId2 : \"\");\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 68\n    }, this));\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"display-media-box\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"render-zone\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"render-zone-title-bar\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: this.state.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 53\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"img\", {\n            src: close,\n            alt: \"close\",\n            onClick: this.closeRenderZone\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 85\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"render-zone-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"render-zone-display\",\n            children: [this.state.recordPageIsDisplayed ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"render-record-time\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"record-icon\",\n                children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n                  id: \"record-icon\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 59\n                }, this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"record-time\",\n                children: seconds2Time(this.state.timeCounter)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 62\n            }, this) : null, this.state.recordPageIsDisplayed ? /*#__PURE__*/_jsxDEV(\"canvas\", {\n              id: \"render-zone-canvas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 61\n            }, this) : null, !this.state.recordPageIsDisplayed ? this.state.imageIsDisplayed ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: (_require = require(\"./../../../wwwroot/images/kaput&zosky.jpg\")) === null || _require === void 0 ? void 0 : _require.default,\n              id: \"render-zone-canvas\",\n              alt: \"display\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 30\n            }, this) : /*#__PURE__*/_jsxDEV(\"video\", {\n              id: \"render-zone-canvas\",\n              controls: true,\n              children: /*#__PURE__*/_jsxDEV(\"source\", {\n                src: (_require2 = require(\"./../../../wwwroot/videos/Seiko Matsuda - Ruriiro No Chikyu (Suzu Hirose_Nazuna _ Uchiage Hanabi).mp4\")) === null || _require2 === void 0 ? void 0 : _require2.default\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 30\n            }, this) : null, this.state.recordPageIsDisplayed ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"render-zone-menu\",\n              id: \"render-zone-menu\",\n              onMouseEnter: this.onMouseEnter,\n              onMouseLeave: this.onMouseLeave,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: this.state.microphoneIsMuted ? mutedMicrophone : microphone,\n                alt: \"\",\n                onClick: this.mutedDemuteMicrophone\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                src: this.state.recordIsStopped ? record : this.state.isRecording ? pauseCircular : play,\n                onClick: this.recordPauseVideo,\n                alt: \"start-pause\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                src: stopCircular,\n                onClick: this.stopRecordVideo,\n                alt: \"stop\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                src: camera,\n                onClick: this.takePhoto,\n                alt: \"take pic\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 26\n            }, this) : null, !this.state.recordPageIsDisplayed ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"display-menu-button\",\n              onClick: this.onPressDisplayMenuButton,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"<\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Back\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 63\n            }, this) : null]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"file-manager-sender\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"file-manager\",\n              id: \"file-manager\",\n              children: capturedItems\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"file-send-zone\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                children: \"Select\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: this.closeRenderZone,\n                children: \"Quit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default RenderFileZone;","map":{"version":3,"sources":["C:/Users/ketis/Documents/estenligne/ReactSPA/src/components/shared/renderfile/RenderFileZone.tsx"],"names":["Component","close","camera","pauseCircular","play","stopCircular","record","microphone","mutedMicrophone","seconds2Time","CapturedItem","RenderFileZone","props","_intervalId","_recordedItem","width","height","state","isRecording","recordIsStopped","microphoneIsMuted","recordPageIsDisplayed","timeCounter","imageIsDisplayed","title","recordedItems","currentItemId","closeRenderZone","event","renderZone","document","getElementById","style","setProperty","recordPauseVideo","setState","setInterval","countTime","div","stopRecordVideo","save","clearInterval","addItemToRecordedList","mutedDemuteMicrophone","takePhoto","opacity","onMouseEnter","onMouseLeave","removeItemToRecordedList","fileId","item","find","filter","displaySelectedItem","namePart","fileName","split","length","undefined","fileType","fileSize","Math","random","push","onPressDisplayMenuButton","componentDidMount","clientWidth","clientHeight","render","capturedItems","map","require","default"],"mappings":";AAAA,SAASA,SAAT,QAA0B,OAA1B;AAEA,OAAOC,KAAP,MAAkB,0CAAlB;AACA,OAAOC,MAAP,MAAmB,wCAAnB;AACA,OAAOC,aAAP,MAA0B,8CAA1B;AACA,OAAOC,IAAP,MAAiB,oCAAjB;AACA,OAAOC,YAAP,MAAyB,6CAAzB;AACA,OAAOC,MAAP,MAAmB,+CAAnB;AACA,OAAOC,UAAP,MAAuB,0CAAvB;AACA,OAAOC,eAAP,MAA4B,gDAA5B;AAEA,SAASC,YAAT,QAA6B,oBAA7B;AAEA,OAAO,sBAAP;AACA,OAAOC,YAAP,MAAyB,8BAAzB;;;AAEA,MAAMC,cAAN,SAA6BX,SAA7B,CAAuC;AAAA;AAAA;AAAA,SACnCY,KADmC,GACvB,KAAKA,KADkB;AAAA,SAEnCC,WAFmC,GAEjB,CAAC,CAFgB;AAAA,SAGnCC,aAHmC,GAGZ,EAHY;AAAA,SAInCC,KAJmC,GAI3B,CAJ2B;AAAA,SAKnCC,MALmC,GAK1B,CAL0B;AAAA,SAMnCC,KANmC,GAM3B;AACNC,MAAAA,WAAW,EAAE,KADP;AAENC,MAAAA,eAAe,EAAE,IAFX;AAGNC,MAAAA,iBAAiB,EAAE,KAHb;AAINC,MAAAA,qBAAqB,EAAE,IAJjB;AAKNC,MAAAA,WAAW,EAAE,CALP;AAMNC,MAAAA,gBAAgB,EAAE,KANZ;AAONC,MAAAA,KAAK,EAAE,gBAPD;AAQNC,MAAAA,aAAa,EAAE,KAAKX,aARd;AASNY,MAAAA,aAAa,EAAE;AATT,KAN2B;;AAAA,SAkBnCC,eAlBmC,GAkBhBC,KAAD,IAAe;AAC7B,UAAIC,UAAU,GAAGC,QAAQ,CAACC,cAAT,CAAwB,mBAAxB,CAAjB;AACAF,MAAAA,UAAU,SAAV,IAAAA,UAAU,WAAV,YAAAA,UAAU,CAAEG,KAAZ,CAAkBC,WAAlB,CAA8B,SAA9B,EAAyC,MAAzC;AACH,KArBkC;;AAAA,SAuBnCC,gBAvBmC,GAuBfN,KAAD,IACnB;AACE,UAAIV,WAAW,GAAG,CAAC,KAAKD,KAAL,CAAWC,WAA9B;;AACA,UAAGA,WAAW,IAAI,KAAKL,WAAL,KAAqB,CAAC,CAAxC,EACA;AACE,aAAKsB,QAAL,CAAc;AAAChB,UAAAA,eAAe,EAAE;AAAlB,SAAd;AACA,aAAKN,WAAL,GAAmBuB,WAAW,CAAC,MAAK,KAAKC,SAAL,EAAN,EAAwB,IAAxB,CAA9B;AACA,aAAKF,QAAL,CAAc;AAACX,UAAAA,KAAK,EAAE;AAAR,SAAd;AACD,OALD,MAMK,IAAGN,WAAW,KAAK,KAAnB,EACL;AACE,YAAIoB,GAAG,GAAGR,QAAQ,CAACC,cAAT,CAAwB,aAAxB,CAAV;AACAO,QAAAA,GAAG,SAAH,IAAAA,GAAG,WAAH,YAAAA,GAAG,CAAEN,KAAL,CAAWC,WAAX,CAAuB,SAAvB,EAAkC,GAAlC;AACA,aAAKE,QAAL,CAAc;AAACX,UAAAA,KAAK,EAAE;AAAR,SAAd;AACD,OALI,MAOH,KAAKW,QAAL,CAAc;AAACX,QAAAA,KAAK,EAAE;AAAR,OAAd;;AACF,WAAKW,QAAL,CAAc;AAACjB,QAAAA;AAAD,OAAd;AACD,KAzCkC;;AAAA,SA2CnCqB,eA3CmC,GA2CjB,CAACX,KAAD,EAAaY,IAAI,GAAC,IAAlB,KAA2B;AAE3C;AACAC,MAAAA,aAAa,CAAC,KAAK5B,WAAN,CAAb;AACA,WAAKA,WAAL,GAAmB,CAAC,CAApB,CAJ2C,CAM3C;;AACA,UAAIyB,GAAG,GAAGR,QAAQ,CAACC,cAAT,CAAwB,aAAxB,CAAV;AACAO,MAAAA,GAAG,SAAH,IAAAA,GAAG,WAAH,YAAAA,GAAG,CAAEN,KAAL,CAAWC,WAAX,CAAuB,SAAvB,EAAkC,GAAlC;AAEA,UAAG,KAAKhB,KAAL,CAAWE,eAAX,KAA+B,KAA/B,IAAwCqB,IAA3C,EACE,KAAKE,qBAAL,CAA2B,SAA3B,EAAsC,OAAtC,EAA+C,MAA/C;AAEF,WAAKP,QAAL,CAAc;AAACjB,QAAAA,WAAW,EAAC,KAAb;AAAoBI,QAAAA,WAAW,EAAC,CAAhC;AAAmCH,QAAAA,eAAe,EAAC,IAAnD;AAAyDK,QAAAA,KAAK,EAAC;AAA/D,OAAd;AACD,KAzDkC;;AAAA,SA2DnCmB,qBA3DmC,GA2DVf,KAAD,IACxB;AACE,UAAIR,iBAAiB,GAAG,CAAC,KAAKH,KAAL,CAAWG,iBAApC;AACA,WAAKe,QAAL,CAAc;AAACf,QAAAA;AAAD,OAAd;AACD,KA/DkC;;AAAA,SAiEnCwB,SAjEmC,GAiEtBhB,KAAD,IACZ;AACE,WAAKc,qBAAL,CAA2B,SAA3B,EAAsC,OAAtC,EAA+C,MAA/C;AACD,KApEkC;;AAAA,SAsEnCL,SAtEmC,GAsEvB,MACZ;AACE,UAAG,KAAKpB,KAAL,CAAWC,WAAd,EACA;AACE,YAAII,WAAW,GAAG,KAAKL,KAAL,CAAWK,WAAX,GAAyB,CAA3C;AACA,aAAKa,QAAL,CAAc;AAACb,UAAAA;AAAD,SAAd;AAEA,YAAIgB,GAAG,GAAGR,QAAQ,CAACC,cAAT,CAAwB,aAAxB,CAAV;;AACA,YAAG,CAAAO,GAAG,SAAH,IAAAA,GAAG,WAAH,YAAAA,GAAG,CAAEN,KAAL,CAAWa,OAAX,MAAuB,GAA1B,EACA;AACEP,UAAAA,GAAG,SAAH,IAAAA,GAAG,WAAH,YAAAA,GAAG,CAAEN,KAAL,CAAWC,WAAX,CAAuB,YAAvB,EAAqC,sBAArC;AACAK,UAAAA,GAAG,SAAH,IAAAA,GAAG,WAAH,YAAAA,GAAG,CAAEN,KAAL,CAAWC,WAAX,CAAuB,SAAvB,EAAkC,GAAlC;AACD,SAJD,MAMA;AACEK,UAAAA,GAAG,SAAH,IAAAA,GAAG,WAAH,YAAAA,GAAG,CAAEN,KAAL,CAAWC,WAAX,CAAuB,YAAvB,EAAqC,qBAArC;AACAK,UAAAA,GAAG,SAAH,IAAAA,GAAG,WAAH,YAAAA,GAAG,CAAEN,KAAL,CAAWC,WAAX,CAAuB,SAAvB,EAAkC,GAAlC;AACD;AAEF;AACF,KA1FkC;;AAAA,SA4FnCa,YA5FmC,GA4FpB,MACf,CACE;AACA;AACA;AACA;AACD,KAlGkC;;AAAA,SAoGnCC,YApGmC,GAoGpB,MACf,CACE;AACA;AAEA;AACA;AACD,KA3GkC;;AAAA,SA6GnCC,wBA7GmC,GA6GPC,MAAD,IAC3B;AACE,UAAIC,IAAI,GAAG,KAAKjC,KAAL,CAAWQ,aAAX,CAAyB0B,IAAzB,CAA+BD,IAAD,IAAQA,IAAI,CAACD,MAAL,KAAgBA,MAAtD,CAAX;AACA,UAAIxB,aAAa,GAAG,CAAC,GAAG,KAAKR,KAAL,CAAWQ,aAAX,CAAyB2B,MAAzB,CAAiCF,IAAD,IAASA,IAAI,CAACD,MAAL,KAAgBA,MAAzD,CAAJ,CAApB;AAEA,UAAG,CAAAC,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAED,MAAN,MAAiB,KAAKhC,KAAL,CAAWS,aAA/B,EACE,KAAKS,QAAL,CAAc;AAACV,QAAAA,aAAD;AAAgBJ,QAAAA,qBAAqB,EAAC;AAAtC,OAAd,EADF,KAGE,KAAKc,QAAL,CAAc;AAACV,QAAAA;AAAD,OAAd;AACH,KAtHkC;;AAAA,SAwHnC4B,mBAxHmC,GAwHZJ,MAAD,IACtB;AACE,UAAIC,IAAI,GAAG,KAAKjC,KAAL,CAAWQ,aAAX,CAAyB0B,IAAzB,CAA+BD,IAAD,IAAQA,IAAI,CAACD,MAAL,KAAgBA,MAAtD,CAAX;AACA,UAAIK,QAAY,GAAGJ,IAAH,aAAGA,IAAH,uBAAGA,IAAI,CAAEK,QAAN,CAAeC,KAAf,CAAqB,GAArB,CAAnB;AACA,UAAIhC,KAAS,GAAG8B,QAAQ,CAAC,CAAAA,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEG,MAAV,IAAmB,CAApB,CAAxB;AACA,WAAKtB,QAAL,CAAc;AAACd,QAAAA,qBAAqB,EAAC,KAAvB;AAA8BG,QAAAA,KAAK,EAAEA,KAAK,KAAGkC,SAAT,GAAoB,gBAApB,GAAqClC;AAAzE,OAAd;AACD,KA9HkC;;AAAA,SAgInCkB,qBAhImC,GAgIX,CAACa,QAAD,EAAkBI,QAAlB,EAAmCC,QAAnC,KACxB;AACI,UAAInC,aAAoB,GAAG,EAA3B;AACA,UAAIyB,IAAS,GAAG;AACdD,QAAAA,MAAM,EAAE,KAAGY,IAAI,CAACC,MAAL,EAAH,GAAiBP,QADX;AAEdA,QAAAA,QAAQ,EAAEA,QAFI;AAGdI,QAAAA,QAAQ,EAAEA,QAHI;AAIdC,QAAAA,QAAQ,EAAEA;AAJI,OAAhB;AAOAnC,MAAAA,aAAa,CAACsC,IAAd,CAAmBb,IAAnB;AACAzB,MAAAA,aAAa,CAACsC,IAAd,CAAmB,GAAG,KAAK9C,KAAL,CAAWQ,aAAjC;AACA,WAAKU,QAAL,CAAc;AAACV,QAAAA;AAAD,OAAd;AACH,KA7IkC;;AAAA,SA+InCuC,wBA/ImC,GA+IPpC,KAAD,IAC3B;AACE;AACA,WAAKO,QAAL,CAAc;AAACd,QAAAA,qBAAqB,EAAC,IAAvB;AAA6BG,QAAAA,KAAK,EAAC;AAAnC,OAAd;AACD,KAnJkC;;AAAA,SAqJnCyC,iBArJmC,GAqJf,MACpB;AAAA;;AACE,UAAI3B,GAAG,GAAGR,QAAQ,CAACC,cAAT,CAAwB,kBAAxB,CAAV;AACA,WAAKhB,KAAL,uBAAauB,GAAb,aAAaA,GAAb,uBAAaA,GAAG,CAAE4B,WAAlB,+DAA+B,KAAKnD,KAApC;AACA,WAAKC,MAAL,wBAAcsB,GAAd,aAAcA,GAAd,uBAAcA,GAAG,CAAE6B,YAAnB,iEAAiC,KAAKnD,MAAtC;AAEA,WAAK0B,qBAAL,CAA2B,mBAA3B,EAAgD,OAAhD,EAAyD,OAAK,IAAL,GAAU,KAAnE;AACD,KA5JkC;AAAA;;AA+JnC0B,EAAAA,MAAM,GAAG;AAAA;;AACL,QAAIC,aAAa,GAAG,KAAKpD,KAAL,CAAWQ,aAAX,CAAyB6C,GAAzB,CAA8BpB,IAAD,iBAAU,QAAC,YAAD;AAC3D,MAAA,QAAQ,EAAIA,IAAI,CAACK,QAD0C;AAE3D,MAAA,QAAQ,EAAIL,IAAI,CAACS,QAF0C;AAG3D,MAAA,QAAQ,EAAIT,IAAI,CAACU,QAH0C;AAI3D,MAAA,UAAU,EAAI;AAAA;;AAAA,eAAM,KAAKZ,wBAAL,iBAA8BE,IAAI,CAACD,MAAnC,uDAA2C,EAA3C,CAAN;AAAA,OAJ6C;AAK3D,MAAA,YAAY,EACR;AAAA;;AAAA,eAAM,KAAKI,mBAAL,kBAAyBH,IAAI,CAACD,MAA9B,yDAAsC,EAAtC,CAAN;AAAA;AANuD;AAAA;AAAA;AAAA;AAAA,YAAvC,CAApB;AAQA,wBACI;AAAK,MAAA,EAAE,EAAG,mBAAV;AAAA,6BACI;AAAK,QAAA,EAAE,EAAG,aAAV;AAAA,gCACE;AAAK,UAAA,EAAE,EAAG,uBAAV;AAAA,kCAAkC;AAAA,sBAAO,KAAKhC,KAAL,CAAWO;AAAlB;AAAA;AAAA;AAAA;AAAA,kBAAlC,oBAAkE;AAAK,YAAA,GAAG,EAAEvB,KAAV;AAAiB,YAAA,GAAG,EAAC,OAArB;AAA6B,YAAA,OAAO,EAAE,KAAK0B;AAA3C;AAAA;AAAA;AAAA;AAAA,kBAAlE;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAK,UAAA,SAAS,EAAC,kBAAf;AAAA,kCACE;AAAK,YAAA,SAAS,EAAC,qBAAf;AAAA,uBACM,KAAKV,KAAL,CAAWI,qBAAZ,gBAAoC;AAAK,cAAA,SAAS,EAAC,oBAAf;AAAA,sCACjC;AAAK,gBAAA,SAAS,EAAC,aAAf;AAAA,6CAA8B;AAAK,kBAAA,EAAE,EAAC;AAAR;AAAA;AAAA;AAAA;AAAA,wBAA9B;AAAA;AAAA;AAAA;AAAA;AAAA,sBADiC,eAEjC;AAAM,gBAAA,SAAS,EAAC,aAAhB;AAAA,0BAA+BZ,YAAY,CAAC,KAAKQ,KAAL,CAAWK,WAAZ;AAA3C;AAAA;AAAA;AAAA;AAAA,sBAFiC;AAAA;AAAA;AAAA;AAAA;AAAA,oBAApC,GAGO,IAJZ,EAMM,KAAKL,KAAL,CAAWI,qBAAZ,gBAAmC;AAAQ,cAAA,EAAE,EAAC;AAAX;AAAA;AAAA;AAAA;AAAA,oBAAnC,GACS,IAPd,EAQO,CAAC,KAAKJ,KAAL,CAAWI,qBAAb,GAAsC,KAAKJ,KAAL,CAAWM,gBAAZ,gBAClC;AAAK,cAAA,GAAG,cAAEgD,OAAO,CAAC,2CAAD,CAAT,6CAAE,SAAsDC,OAAhE;AAAyE,cAAA,EAAE,EAAC,oBAA5E;AAAiG,cAAA,GAAG,EAAC;AAArG;AAAA;AAAA;AAAA;AAAA,oBADkC,gBAElC;AAAO,cAAA,EAAE,EAAC,oBAAV;AAA+B,cAAA,QAAQ,MAAvC;AAAA,qCACG;AAAQ,gBAAA,GAAG,eAAED,OAAO,CAAC,uGAAD,CAAT,8CAAE,UAAkHC;AAA/H;AAAA;AAAA;AAAA;AAAA;AADH;AAAA;AAAA;AAAA;AAAA,oBAFH,GAIa,IAZnB,EAaM,KAAKvD,KAAL,CAAWI,qBAAZ,gBACA;AAAK,cAAA,SAAS,EAAC,kBAAf;AAAkC,cAAA,EAAE,EAAC,kBAArC;AAAwD,cAAA,YAAY,EAAE,KAAKyB,YAA3E;AAAyF,cAAA,YAAY,EAAE,KAAKC,YAA5G;AAAA,sCACG;AAAK,gBAAA,GAAG,EAAG,KAAK9B,KAAL,CAAWG,iBAAZ,GAA+BZ,eAA/B,GAA+CD,UAAzD;AAAqE,gBAAA,GAAG,EAAC,EAAzE;AAA4E,gBAAA,OAAO,EAAI,KAAKoC;AAA5F;AAAA;AAAA;AAAA;AAAA,sBADH,eAEG;AAAK,gBAAA,GAAG,EAAG,KAAK1B,KAAL,CAAWE,eAAZ,GAA8Bb,MAA9B,GAAwC,KAAKW,KAAL,CAAWC,WAAZ,GAAyBf,aAAzB,GAAuCC,IAAxF;AAA+F,gBAAA,OAAO,EAAI,KAAK8B,gBAA/G;AAAiI,gBAAA,GAAG,EAAC;AAArI;AAAA;AAAA;AAAA;AAAA,sBAFH,eAGG;AAAM,gBAAA,GAAG,EAAE7B,YAAX;AAAyB,gBAAA,OAAO,EAAI,KAAKkC,eAAzC;AAA0D,gBAAA,GAAG,EAAC;AAA9D;AAAA;AAAA;AAAA;AAAA,sBAHH,eAIG;AAAK,gBAAA,GAAG,EAAErC,MAAV;AAAkB,gBAAA,OAAO,EAAI,KAAK0C,SAAlC;AAA6C,gBAAA,GAAG,EAAC;AAAjD;AAAA;AAAA;AAAA;AAAA,sBAJH;AAAA;AAAA;AAAA;AAAA;AAAA,oBADA,GAMO,IAnBZ,EAqBM,CAAC,KAAK3B,KAAL,CAAWI,qBAAb,gBAAqC;AAAK,cAAA,SAAS,EAAC,qBAAf;AAAqC,cAAA,OAAO,EAAE,KAAK2C,wBAAnD;AAAA,sCAClC;AAAA,0BAAO;AAAP;AAAA;AAAA;AAAA;AAAA,sBADkC,eAElC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFkC;AAAA;AAAA;AAAA;AAAA;AAAA,oBAArC,GAGO,IAxBZ;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eA2BE;AAAK,YAAA,SAAS,EAAC,qBAAf;AAAA,oCACE;AAAK,cAAA,SAAS,EAAC,cAAf;AAA8B,cAAA,EAAE,EAAC,cAAjC;AAAA,wBACKK;AADL;AAAA;AAAA;AAAA;AAAA,oBADF,eAIE;AAAK,cAAA,SAAS,EAAC,gBAAf;AAAA,sCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AAAQ,gBAAA,OAAO,EAAE,KAAK1C,eAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,kBA3BF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ;AA6CH;;AArNkC;;AAgOvC,eAAehB,cAAf","sourcesContent":["import { Component } from 'react'\r\n\r\nimport close from \"./../../../wwwroot/images/times_dark.png\";\r\nimport camera from \"./../../../wwwroot/images/camera_p.png\";\r\nimport pauseCircular from \"./../../../wwwroot/images/pause_circular.png\";\r\nimport play from \"./../../../wwwroot/images/play.png\";\r\nimport stopCircular from \"./../../../wwwroot/images/stop_circular.png\";\r\nimport record from \"./../../../wwwroot/images/record_circular.png\";\r\nimport microphone from \"./../../../wwwroot/images/microphone.png\";\r\nimport mutedMicrophone from \"./../../../wwwroot/images/muted_microphone.png\"\r\n\r\nimport { seconds2Time } from '../utils/functions';\r\n\r\nimport \"./RenderFileZone.css\"\r\nimport CapturedItem from '../captureditem/CapturedItem';\r\n\r\nclass RenderFileZone extends Component {\r\n    props:any = this.props \r\n    _intervalId:any = -1\r\n    _recordedItem:Item[] = [] \r\n    width = 0\r\n    height = 0\r\n    state = {\r\n      isRecording: false,\r\n      recordIsStopped: true,\r\n      microphoneIsMuted: false,\r\n      recordPageIsDisplayed: true,\r\n      timeCounter: 0,\r\n      imageIsDisplayed: false,\r\n      title: \"File displayer\",\r\n      recordedItems: this._recordedItem,\r\n      currentItemId: \"\"\r\n    }\r\n\r\n    closeRenderZone = (event:any) => {\r\n        var renderZone = document.getElementById(\"display-media-box\")\r\n        renderZone?.style.setProperty(\"display\", \"none\")\r\n    }\r\n\r\n    recordPauseVideo = (event:any) =>\r\n    {\r\n      var isRecording = !this.state.isRecording\r\n      if(isRecording && this._intervalId === -1)\r\n      {\r\n        this.setState({recordIsStopped: false})\r\n        this._intervalId = setInterval(()=> this.countTime(), 1000)\r\n        this.setState({title: \"Recording...\"})\r\n      }\r\n      else if(isRecording === false)\r\n      {\r\n        var div = document.getElementById(\"record-icon\")\r\n        div?.style.setProperty(\"opacity\", \"1\")\r\n        this.setState({title: \"Record is in pause\"})\r\n      }\r\n      else\r\n        this.setState({title: \"Recording...\"})\r\n      this.setState({isRecording})\r\n    }\r\n\r\n    stopRecordVideo = (event: any, save=true) => {\r\n      \r\n      //Stop counter\r\n      clearInterval(this._intervalId)\r\n      this._intervalId = -1\r\n\r\n      //Set opacity of record icon to 1 because it can be 0\r\n      var div = document.getElementById(\"record-icon\")\r\n      div?.style.setProperty(\"opacity\", \"1\")\r\n      \r\n      if(this.state.recordIsStopped === false && save)\r\n        this.addItemToRecordedList(\"aaa.mp4\", \"video\", 100000)\r\n\r\n      this.setState({isRecording:false, timeCounter:0, recordIsStopped:true, title:\"File displayer\"})\r\n    }\r\n\r\n    mutedDemuteMicrophone = (event:any) =>\r\n    {\r\n      var microphoneIsMuted = !this.state.microphoneIsMuted\r\n      this.setState({microphoneIsMuted})\r\n    }\r\n\r\n    takePhoto = (event:any) => \r\n    {\r\n      this.addItemToRecordedList(\"aaa.jpg\", \"audio\", 100000)\r\n    }\r\n\r\n    countTime = () =>\r\n    {\r\n      if(this.state.isRecording)\r\n      {      \r\n        var timeCounter = this.state.timeCounter + 1\r\n        this.setState({timeCounter})\r\n\r\n        var div = document.getElementById(\"record-icon\")\r\n        if(div?.style.opacity === \"1\")\r\n        {\r\n          div?.style.setProperty(\"transition\", \"opacity ease-out .5s\")\r\n          div?.style.setProperty(\"opacity\", \"0\")\r\n        }\r\n        else\r\n        {\r\n          div?.style.setProperty(\"transition\", \"opacity ease-in .5s\")\r\n          div?.style.setProperty(\"opacity\", \"1\")\r\n        }\r\n        \r\n      }\r\n    }\r\n\r\n    onMouseEnter = () =>\r\n    {\r\n      // var div = document.getElementById(\"render-zone-menu\")\r\n      // div?.style.setProperty(\"visibility\", \"visible\")\r\n      // div?.style.setProperty(\"width\", \"30%\")\r\n      // div?.style.setProperty(\"height\", \"70px\")\r\n    }\r\n\r\n    onMouseLeave = () =>\r\n    {\r\n      // var div = document.getElementById(\"render-zone-menu\")\r\n      // div?.style.setProperty(\"visibility\", \"hidden\")\r\n      \r\n      // div?.style.setProperty(\"width\", `${this.width}`)\r\n      // div?.style.setProperty(\"height\", `${this.height}`)\r\n    }\r\n\r\n    removeItemToRecordedList = (fileId:string) => \r\n    {\r\n      var item = this.state.recordedItems.find((item)=>item.fileId === fileId)\r\n      var recordedItems = [...this.state.recordedItems.filter((item)=> item.fileId !== fileId)]\r\n      \r\n      if(item?.fileId === this.state.currentItemId)\r\n        this.setState({recordedItems, recordPageIsDisplayed:true})  \r\n      else\r\n        this.setState({recordedItems})\r\n    } \r\n\r\n    displaySelectedItem = (fileId:string) =>\r\n    {\r\n      var item = this.state.recordedItems.find((item)=>item.fileId === fileId)\r\n      var namePart:any = item?.fileName.split('/')\r\n      var title:any = namePart[namePart?.length - 1]\r\n      this.setState({recordPageIsDisplayed:false, title:(title===undefined)?\"File displayer\":title})\r\n    }\r\n\r\n    addItemToRecordedList = (fileName:string, fileType:string, fileSize:number) => \r\n    {\r\n        var recordedItems:Item[] = []\r\n        var item:Item = {\r\n          fileId: \"\"+Math.random()+fileName,\r\n          fileName: fileName,\r\n          fileType: fileType,\r\n          fileSize: fileSize\r\n        } \r\n\r\n        recordedItems.push(item)\r\n        recordedItems.push(...this.state.recordedItems)\r\n        this.setState({recordedItems})\r\n    }\r\n\r\n    onPressDisplayMenuButton = (event:any) =>\r\n    {\r\n      // var item = this.state.recordedItems.find((item)=>item.fileId === fileId)\r\n      this.setState({recordPageIsDisplayed:true, title:\"File displayer\"})\r\n    }\r\n\r\n    componentDidMount = () =>\r\n    {\r\n      var div = document.getElementById(\"render-zone-menu\")\r\n      this.width = div?.clientWidth??this.width\r\n      this.height = div?.clientHeight??this.height\r\n\r\n      this.addItemToRecordedList(\"ovi&mbouendeu.mp4\", \"video\", 1024*1024+27364)\r\n    }\r\n\r\n\r\n    render() {\r\n        var capturedItems = this.state.recordedItems.map((item) => <CapturedItem \r\n        fileName = {item.fileName} \r\n        fileType = {item.fileType}\r\n        fileSize = {item.fileSize} \r\n        removeItem = {() => this.removeItemToRecordedList(item.fileId??\"\")}\r\n        displayMedia = {\r\n            () => this.displaySelectedItem(item.fileId??\"\")\r\n        }/>)\r\n        return (\r\n            <div id = \"display-media-box\">\r\n                <div id = \"render-zone\">\r\n                  <div id = \"render-zone-title-bar\"><span>{this.state.title}</span> <img src={close} alt=\"close\" onClick={this.closeRenderZone} /></div>\r\n                  <div className=\"render-zone-body\">\r\n                    <div className=\"render-zone-display\">\r\n                        {(this.state.recordPageIsDisplayed)?(<div className=\"render-record-time\">\r\n                            <div className=\"record-icon\"> <div id=\"record-icon\"></div> </div>\r\n                            <span className=\"record-time\">{seconds2Time(this.state.timeCounter)}</span>\r\n                        </div>):null}\r\n                        \r\n                        {(this.state.recordPageIsDisplayed)?<canvas id=\"render-zone-canvas\">\r\n                        </canvas>:null}\r\n                        {((!this.state.recordPageIsDisplayed)?((this.state.imageIsDisplayed)?\r\n                            (<img src={require(\"./../../../wwwroot/images/kaput&zosky.jpg\")?.default} id=\"render-zone-canvas\" alt=\"display\" />):\r\n                            (<video id=\"render-zone-canvas\" controls>\r\n                                <source src={require(\"./../../../wwwroot/videos/Seiko Matsuda - Ruriiro No Chikyu (Suzu Hirose_Nazuna _ Uchiage Hanabi).mp4\")?.default} />\r\n                            </video>)):null)} \r\n                        {(this.state.recordPageIsDisplayed)?\r\n                        (<div className=\"render-zone-menu\" id=\"render-zone-menu\" onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\r\n                            <img src={(this.state.microphoneIsMuted)?mutedMicrophone:microphone} alt=\"\" onClick = {this.mutedDemuteMicrophone} />\r\n                            <img src={(this.state.recordIsStopped)?(record):((this.state.isRecording)?pauseCircular:play)} onClick = {this.recordPauseVideo} alt=\"start-pause\" />\r\n                            <img  src={stopCircular} onClick = {this.stopRecordVideo} alt=\"stop\" />\r\n                            <img src={camera} onClick = {this.takePhoto} alt=\"take pic\" />\r\n                        </div>):null}\r\n\r\n                        {(!this.state.recordPageIsDisplayed)?(<div className=\"display-menu-button\" onClick={this.onPressDisplayMenuButton} >\r\n                            <span>{\"<\"}</span>\r\n                            <span>Back</span>\r\n                        </div>):null}\r\n                    </div>\r\n                    <div className=\"file-manager-sender\">\r\n                      <div className=\"file-manager\" id=\"file-manager\">\r\n                          {capturedItems}\r\n                      </div>\r\n                      <div className=\"file-send-zone\">\r\n                        <button>Select</button>\r\n                        <button onClick={this.closeRenderZone}>Quit</button>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                  </div>\r\n                </div>\r\n              </div>\r\n        )\r\n    }\r\n}\r\n\r\ninterface Item\r\n{\r\n  fileId?:string\r\n  fileName: string,\r\n  fileType: string,\r\n  fileSize: number\r\n}\r\n\r\nexport default RenderFileZone"]},"metadata":{},"sourceType":"module"}