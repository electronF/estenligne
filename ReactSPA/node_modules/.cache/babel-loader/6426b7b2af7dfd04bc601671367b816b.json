{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ketis\\\\Documents\\\\estenligne\\\\ReactSPA\\\\src\\\\components\\\\Pages\\\\LoginPage\\\\LoginPage.tsx\";\nimport { Component } from \"react\";\nimport { Link, Redirect } from 'react-router-dom';\nimport LoginForm from \"./LoginForm/LoginForm\";\nimport FormMessage from \"../../shared/formmessage/FormMessage\";\nimport PageName from '../../shared/pagename/PageName';\nimport { VerticalLogo } from \"../../shared/logo/Logos\";\nimport './LoginPage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass LoginPage extends Component {\n  constructor(...args) {\n    super(...args);\n    this._alertMessage = \"Use either email or phone number\";\n    this._alertType = \"error\";\n    this.state = {\n      isAuthenticated: false,\n      alertMessage: this._alertMessage,\n      alertType: this._alertType\n    };\n    this.props = this.props;\n\n    this.submitForm = data => {\n      // if(data.email === null) data.email = \"\"\n      // else if(data.phoneNumber === null) data.phoneNumber = \"\"\n      fetch(\"https://www.estenligne.com:44364/api/account/signin\", {\n        \"method\": \"POST\",\n        \"headers\": {\n          \"content-type\": \"application/json\",\n          \"accept\": \"application/json\"\n        },\n        \"body\": JSON.stringify(data)\n      }).then(response => response.json()).then(result => {\n        if (`${result}`.includes(\"id:\")) this.setState({\n          isAuthenticate: true,\n          alertType: 'success',\n          alertMessage: `Account is created and an ${data.email !== null ? \"email to your email adress\" : \"message to your phone number\"}`\n        });else this.setState({\n          isAuthenticate: false,\n          alertType: 'error',\n          alertMessage: `Error!\\n${result}`\n        });\n      }, error => {\n        this.setState({\n          isAuthenticate: false,\n          alertType: 'error',\n          alertMessage: `Something append wrong ${error}`\n        });\n      });\n    };\n  }\n\n  render() {\n    return this.state.isAuthenticated ? /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/home\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 43\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-page\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"title\",\n        children: /*#__PURE__*/_jsxDEV(PageName, {\n          name: \"Login\"\n        }, \"login-page-name\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this)\n      }, \"login-page-name-section\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content\",\n        children: [/*#__PURE__*/_jsxDEV(VerticalLogo, {}, \"login-page-logo\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(FormMessage, {\n          type: this.state.alertType,\n          message: this.state.alertMessage\n        }, \"login-page-alert-message\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(LoginForm, {\n          submitForm: this.submitForm\n        }, \"login-page-form\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/resetpassword\",\n          className: \"fs-6 fw-bold link-secondary\",\n          children: ['>', \" Forgot Password \", '<']\n        }, \"login-page-link1\", true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/register\",\n          className: \"fs-5 fw-bold link-secondary\",\n          children: ['>>', \" Create Account \", '<<']\n        }, \"login-page-link2\", true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this)]\n      }, \"login-page-tools-sections\", true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)]\n    }, \"login-page\", true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 68\n    }, this);\n  }\n\n}\n\nexport default LoginPage;","map":{"version":3,"sources":["C:/Users/ketis/Documents/estenligne/ReactSPA/src/components/Pages/LoginPage/LoginPage.tsx"],"names":["Component","Link","Redirect","LoginForm","FormMessage","PageName","VerticalLogo","LoginPage","_alertMessage","_alertType","state","isAuthenticated","alertMessage","alertType","props","submitForm","data","fetch","JSON","stringify","then","response","json","result","includes","setState","isAuthenticate","email","error","render"],"mappings":"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","sourcesContent":["import { Component } from \"react\";\r\n\r\nimport { Link, Redirect } from 'react-router-dom';\r\n\r\nimport LoginForm from \"./LoginForm/LoginForm\";\r\nimport FormMessage from \"../../shared/formmessage/FormMessage\";\r\n\r\nimport PageName from '../../shared/pagename/PageName';\r\nimport {VerticalLogo} from \"../../shared/logo/Logos\";\r\n  \r\nimport './LoginPage.css'\r\nimport { Credential } from \"../../shared/utils/Types\";\r\n\r\nclass LoginPage extends Component{\r\n    _alertMessage = \"Use either email or phone number\"\r\n    _alertType = \"error\"\r\n    state = {\r\n        isAuthenticated: false,\r\n        alertMessage: this._alertMessage,\r\n        alertType: this._alertType\r\n    }\r\n    props:any = this.props\r\n\r\n    submitForm = (data:Credential) => {\r\n        // if(data.email === null) data.email = \"\"\r\n        // else if(data.phoneNumber === null) data.phoneNumber = \"\"\r\n        \r\n        fetch(\"https://www.estenligne.com:44364/api/account/signin\", {\r\n            \"method\": \"POST\",\r\n            \"headers\": {\r\n                \"content-type\": \"application/json\",\r\n                \"accept\": \"application/json\"\r\n            },\r\n            \"body\": JSON.stringify(data)\r\n            }).then(response => response.json())\r\n            .then(\r\n                (result) => {\r\n                    if(`${result}`.includes(\"id:\"))\r\n                        this.setState({isAuthenticate: true, alertType : 'success',  alertMessage: `Account is created and an ${(data.email !== null)?\"email to your email adress\":\"message to your phone number\"}`})\r\n                    else\r\n                        this.setState({isAuthenticate: false, alertType : 'error',  alertMessage: `Error!\\n${result}`})\r\n                },\r\n                (error) => {\r\n                    this.setState({isAuthenticate: false, alertType : 'error',  alertMessage: `Something append wrong ${error}`})\r\n                }\r\n            );\r\n        \r\n    }\r\n\r\n    render(){\r\n        return (\r\n            (this.state.isAuthenticated)?(<Redirect to=\"/home\"/>):(<div className = \"login-page\" key=\"login-page\">\r\n                <div className=\"title\" key=\"login-page-name-section\">\r\n                    <PageName name=\"Login\" key = \"login-page-name\"/>\r\n                </div>\r\n                <div className = \"content\" key=\"login-page-tools-sections\">\r\n                    <VerticalLogo key = \"login-page-logo\"/>\r\n                    <FormMessage type={this.state.alertType} message = {this.state.alertMessage} key = \"login-page-alert-message\"/>\r\n                    <LoginForm submitForm = {this.submitForm} key = \"login-page-form\"/>\r\n                    <Link to = '/resetpassword' key = \"login-page-link1\" className = \"fs-6 fw-bold link-secondary\">{'>'} Forgot Password {'<'}</Link>\r\n                    <Link to = \"/register\" key = \"login-page-link2\" className=\"fs-5 fw-bold link-secondary\">{'>>'} Create Account {'<<'}</Link>\r\n                </div>\r\n            </div>)\r\n        )\r\n    }\r\n}\r\n\r\nexport default LoginPage"]},"metadata":{},"sourceType":"module"}